{"filter":false,"title":"wiki.rb","tooltip":"/wiki.rb","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":250,"column":19},"end":{"row":251,"column":0},"action":"remove","lines":["",""],"id":4042}],[{"start":{"row":250,"column":18},"end":{"row":250,"column":19},"action":"remove","lines":["k"],"id":4043}],[{"start":{"row":250,"column":17},"end":{"row":250,"column":18},"action":"remove","lines":["c"],"id":4044}],[{"start":{"row":250,"column":16},"end":{"row":250,"column":17},"action":"remove","lines":["a"],"id":4045}],[{"start":{"row":250,"column":15},"end":{"row":250,"column":16},"action":"remove","lines":["b"],"id":4046}],[{"start":{"row":250,"column":14},"end":{"row":250,"column":15},"action":"remove","lines":[":"],"id":4047}],[{"start":{"row":250,"column":13},"end":{"row":250,"column":14},"action":"remove","lines":[" "],"id":4048}],[{"start":{"row":250,"column":12},"end":{"row":250,"column":13},"action":"remove","lines":["o"],"id":4049}],[{"start":{"row":250,"column":11},"end":{"row":250,"column":12},"action":"remove","lines":["t"],"id":4050}],[{"start":{"row":250,"column":10},"end":{"row":250,"column":11},"action":"remove","lines":["_"],"id":4051}],[{"start":{"row":250,"column":9},"end":{"row":250,"column":10},"action":"remove","lines":["t"],"id":4052}],[{"start":{"row":250,"column":8},"end":{"row":250,"column":9},"action":"remove","lines":["c"],"id":4053}],[{"start":{"row":250,"column":7},"end":{"row":250,"column":8},"action":"remove","lines":["e"],"id":4054}],[{"start":{"row":250,"column":6},"end":{"row":250,"column":7},"action":"remove","lines":["r"],"id":4055}],[{"start":{"row":250,"column":5},"end":{"row":250,"column":6},"action":"remove","lines":["i"],"id":4056}],[{"start":{"row":250,"column":4},"end":{"row":250,"column":5},"action":"remove","lines":["d"],"id":4057}],[{"start":{"row":250,"column":3},"end":{"row":250,"column":4},"action":"remove","lines":["e"],"id":4058}],[{"start":{"row":250,"column":2},"end":{"row":250,"column":3},"action":"remove","lines":["r"],"id":4059}],[{"start":{"row":250,"column":0},"end":{"row":250,"column":2},"action":"remove","lines":["  "],"id":4060}],[{"start":{"row":249,"column":7},"end":{"row":250,"column":0},"action":"remove","lines":["",""],"id":4061}],[{"start":{"row":249,"column":6},"end":{"row":249,"column":7},"action":"remove","lines":["n"],"id":4062}],[{"start":{"row":249,"column":5},"end":{"row":249,"column":6},"action":"remove","lines":["i"],"id":4063}],[{"start":{"row":249,"column":4},"end":{"row":249,"column":5},"action":"remove","lines":["g"],"id":4064}],[{"start":{"row":249,"column":3},"end":{"row":249,"column":4},"action":"remove","lines":["e"],"id":4065}],[{"start":{"row":249,"column":2},"end":{"row":249,"column":3},"action":"remove","lines":["b"],"id":4066}],[{"start":{"row":249,"column":0},"end":{"row":249,"column":2},"action":"remove","lines":["  "],"id":4067}],[{"start":{"row":248,"column":27},"end":{"row":249,"column":0},"action":"remove","lines":["",""],"id":4068}],[{"start":{"row":16,"column":18},"end":{"row":16,"column":19},"action":"remove","lines":["\""],"id":4069}],[{"start":{"row":16,"column":17},"end":{"row":16,"column":18},"action":"remove","lines":["\""],"id":4070}],[{"start":{"row":254,"column":0},"end":{"row":254,"column":2},"action":"insert","lines":["  "],"id":4071}],[{"start":{"row":16,"column":17},"end":{"row":16,"column":19},"action":"insert","lines":["\"\""],"id":4072}],[{"start":{"row":16,"column":18},"end":{"row":16,"column":19},"action":"insert","lines":["f"],"id":4073}],[{"start":{"row":16,"column":19},"end":{"row":16,"column":20},"action":"insert","lines":["f"],"id":4074}],[{"start":{"row":16,"column":20},"end":{"row":16,"column":21},"action":"insert","lines":["f"],"id":4075}],[{"start":{"row":16,"column":18},"end":{"row":16,"column":21},"action":"remove","lines":["fff"],"id":4076},{"start":{"row":16,"column":18},"end":{"row":16,"column":24},"action":"insert","lines":["ffffff"]}],[{"start":{"row":16,"column":18},"end":{"row":16,"column":24},"action":"remove","lines":["ffffff"],"id":4077}],[{"start":{"row":16,"column":18},"end":{"row":16,"column":19},"action":"remove","lines":["\""],"id":4078}],[{"start":{"row":16,"column":17},"end":{"row":16,"column":18},"action":"remove","lines":["\""],"id":4079}],[{"start":{"row":248,"column":3},"end":{"row":248,"column":18},"action":"remove","lines":["backgroundcolor"],"id":4080}],[{"start":{"row":248,"column":2},"end":{"row":248,"column":3},"action":"remove","lines":["@"],"id":4081}],[{"start":{"row":248,"column":2},"end":{"row":248,"column":18},"action":"insert","lines":["$backgroundcolor"],"id":4082}],[{"start":{"row":243,"column":3},"end":{"row":243,"column":18},"action":"remove","lines":["backgroundcolor"],"id":4083}],[{"start":{"row":243,"column":2},"end":{"row":243,"column":3},"action":"remove","lines":["@"],"id":4084}],[{"start":{"row":243,"column":2},"end":{"row":243,"column":18},"action":"insert","lines":["$backgroundcolor"],"id":4085}],[{"start":{"row":239,"column":3},"end":{"row":239,"column":18},"action":"remove","lines":["backgroundcolor"],"id":4086}],[{"start":{"row":239,"column":2},"end":{"row":239,"column":3},"action":"remove","lines":["@"],"id":4087}],[{"start":{"row":239,"column":2},"end":{"row":239,"column":18},"action":"insert","lines":["$backgroundcolor"],"id":4088}],[{"start":{"row":256,"column":0},"end":{"row":256,"column":1},"action":"insert","lines":["g"],"id":4089}],[{"start":{"row":256,"column":1},"end":{"row":256,"column":2},"action":"insert","lines":["e"],"id":4090}],[{"start":{"row":256,"column":2},"end":{"row":256,"column":3},"action":"insert","lines":["t"],"id":4091}],[{"start":{"row":256,"column":3},"end":{"row":256,"column":4},"action":"insert","lines":[" "],"id":4092}],[{"start":{"row":256,"column":4},"end":{"row":256,"column":6},"action":"insert","lines":["''"],"id":4093}],[{"start":{"row":256,"column":5},"end":{"row":256,"column":6},"action":"insert","lines":["/"],"id":4094}],[{"start":{"row":256,"column":6},"end":{"row":256,"column":7},"action":"insert","lines":["d"],"id":4095}],[{"start":{"row":256,"column":7},"end":{"row":256,"column":8},"action":"insert","lines":["e"],"id":4096}],[{"start":{"row":256,"column":8},"end":{"row":256,"column":9},"action":"insert","lines":["f"],"id":4097}],[{"start":{"row":256,"column":9},"end":{"row":256,"column":10},"action":"remove","lines":["'"],"id":4098}],[{"start":{"row":256,"column":9},"end":{"row":256,"column":10},"action":"insert","lines":["f"],"id":4099}],[{"start":{"row":256,"column":9},"end":{"row":256,"column":10},"action":"remove","lines":["f"],"id":4100}],[{"start":{"row":256,"column":9},"end":{"row":256,"column":10},"action":"insert","lines":["g"],"id":4101}],[{"start":{"row":256,"column":9},"end":{"row":256,"column":10},"action":"remove","lines":["g"],"id":4102}],[{"start":{"row":256,"column":9},"end":{"row":256,"column":10},"action":"insert","lines":["b"],"id":4103}],[{"start":{"row":256,"column":6},"end":{"row":256,"column":10},"action":"remove","lines":["defb"],"id":4104},{"start":{"row":256,"column":6},"end":{"row":256,"column":19},"action":"insert","lines":["defbackground"]}],[{"start":{"row":256,"column":19},"end":{"row":256,"column":20},"action":"insert","lines":["'"],"id":4105}],[{"start":{"row":256,"column":20},"end":{"row":256,"column":21},"action":"insert","lines":[" "],"id":4106}],[{"start":{"row":256,"column":21},"end":{"row":256,"column":22},"action":"insert","lines":["d"],"id":4107}],[{"start":{"row":256,"column":22},"end":{"row":256,"column":23},"action":"insert","lines":["o"],"id":4108}],[{"start":{"row":256,"column":21},"end":{"row":256,"column":23},"action":"remove","lines":["do"],"id":4109},{"start":{"row":256,"column":21},"end":{"row":256,"column":23},"action":"insert","lines":["do"]}],[{"start":{"row":256,"column":23},"end":{"row":257,"column":0},"action":"insert","lines":["",""],"id":4110},{"start":{"row":257,"column":0},"end":{"row":257,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":257,"column":2},"end":{"row":257,"column":19},"action":"insert","lines":["$backgroundcolor="],"id":4111}],[{"start":{"row":257,"column":19},"end":{"row":257,"column":26},"action":"insert","lines":["#17A2B8"],"id":4112}],[{"start":{"row":257,"column":26},"end":{"row":258,"column":0},"action":"insert","lines":["",""],"id":4113},{"start":{"row":258,"column":0},"end":{"row":258,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":258,"column":2},"end":{"row":258,"column":3},"action":"insert","lines":["r"],"id":4114}],[{"start":{"row":258,"column":3},"end":{"row":258,"column":4},"action":"insert","lines":["e"],"id":4115}],[{"start":{"row":258,"column":4},"end":{"row":258,"column":5},"action":"insert","lines":["d"],"id":4116}],[{"start":{"row":258,"column":2},"end":{"row":258,"column":5},"action":"remove","lines":["red"],"id":4117},{"start":{"row":258,"column":2},"end":{"row":258,"column":10},"action":"insert","lines":["redirect"]}],[{"start":{"row":258,"column":10},"end":{"row":258,"column":11},"action":"insert","lines":[" "],"id":4118}],[{"start":{"row":258,"column":11},"end":{"row":258,"column":13},"action":"insert","lines":["''"],"id":4119}],[{"start":{"row":258,"column":12},"end":{"row":258,"column":13},"action":"insert","lines":["7"],"id":4120}],[{"start":{"row":258,"column":12},"end":{"row":258,"column":13},"action":"remove","lines":["7"],"id":4121}],[{"start":{"row":258,"column":12},"end":{"row":258,"column":13},"action":"insert","lines":["/"],"id":4122}],[{"start":{"row":258,"column":13},"end":{"row":258,"column":14},"action":"insert","lines":["0"],"id":4123}],[{"start":{"row":258,"column":13},"end":{"row":258,"column":14},"action":"remove","lines":["0"],"id":4124}],[{"start":{"row":258,"column":13},"end":{"row":258,"column":14},"action":"insert","lines":["0"],"id":4125}],[{"start":{"row":258,"column":14},"end":{"row":259,"column":0},"action":"insert","lines":["",""],"id":4126},{"start":{"row":259,"column":0},"end":{"row":259,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":259,"column":0},"end":{"row":259,"column":2},"action":"remove","lines":["  "],"id":4127}],[{"start":{"row":258,"column":14},"end":{"row":259,"column":0},"action":"remove","lines":["",""],"id":4128}],[{"start":{"row":258,"column":13},"end":{"row":258,"column":14},"action":"remove","lines":["0"],"id":4129}],[{"start":{"row":258,"column":13},"end":{"row":258,"column":14},"action":"insert","lines":["0"],"id":4130}],[{"start":{"row":258,"column":13},"end":{"row":258,"column":14},"action":"remove","lines":["0"],"id":4131}],[{"start":{"row":258,"column":14},"end":{"row":259,"column":0},"action":"insert","lines":["",""],"id":4132},{"start":{"row":259,"column":0},"end":{"row":259,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":259,"column":2},"end":{"row":259,"column":3},"action":"insert","lines":["e"],"id":4133}],[{"start":{"row":259,"column":3},"end":{"row":259,"column":4},"action":"insert","lines":["d"],"id":4134}],[{"start":{"row":259,"column":3},"end":{"row":259,"column":4},"action":"remove","lines":["d"],"id":4135}],[{"start":{"row":259,"column":3},"end":{"row":259,"column":4},"action":"insert","lines":["n"],"id":4136}],[{"start":{"row":259,"column":4},"end":{"row":259,"column":5},"action":"insert","lines":["d"],"id":4137},{"start":{"row":259,"column":0},"end":{"row":259,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":259,"column":3},"end":{"row":260,"column":0},"action":"insert","lines":["",""],"id":4138}],[{"start":{"row":257,"column":19},"end":{"row":257,"column":20},"action":"remove","lines":["#"],"id":4139}],[{"start":{"row":257,"column":19},"end":{"row":257,"column":20},"action":"insert","lines":["\""],"id":4140}],[{"start":{"row":257,"column":26},"end":{"row":257,"column":27},"action":"insert","lines":["\""],"id":4141}],[{"start":{"row":16,"column":17},"end":{"row":17,"column":0},"action":"remove","lines":["",""],"id":4142,"ignore":true},{"start":{"row":16,"column":17},"end":{"row":18,"column":33},"action":"insert","lines":["\"\"","","#universal function to read files"]},{"start":{"row":31,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["#readFile that addes <br> at the end of each line","def readFileLog(filename)","  info = \"\"","  file = File.open(filename)","  ","  file.each do |line|","    info = info + line + '<br>'","  end","","  file.close","  return info","end","","#function that updates log file log.txt",""]},{"start":{"row":54,"column":0},"end":{"row":55,"column":0},"action":"insert","lines":["#copy content of inputFile to outputFile",""]},{"start":{"row":65,"column":0},"end":{"row":66,"column":0},"action":"insert","lines":["#add a backup",""]},{"start":{"row":74,"column":0},"end":{"row":75,"column":0},"action":"insert","lines":["#check if the connection is authorised",""]},{"start":{"row":78,"column":13},"end":{"row":78,"column":14},"action":"insert","lines":[" "]},{"start":{"row":90,"column":0},"end":{"row":91,"column":0},"action":"insert","lines":["#run if your function should be available for logged in users",""]},{"start":{"row":98,"column":0},"end":{"row":99,"column":0},"action":"insert","lines":["#protected! function restricted to admin-only access",""]},{"start":{"row":173,"column":0},"end":{"row":174,"column":0},"action":"insert","lines":["#edit wiki and save its content to backup",""]},{"start":{"row":189,"column":0},"end":{"row":190,"column":0},"action":"remove","lines":["  dirr = \"backups\"",""]},{"start":{"row":190,"column":2},"end":{"row":191,"column":20},"action":"remove","lines":["@list3 = Dir.entries(dirr) - %w[. ..]","  erb :admincontrols"]},{"start":{"row":190,"column":2},"end":{"row":203,"column":14},"action":"insert","lines":["erb :admincontrols","end","","get '/archive' do","  protected_admin!","  dirr = \"backups\"","  #list files within directory omitting . and ..","  @list3 = Dir.entries(dirr) - %w[. ..]","  erb :archive","end","","get '/showlog' do","  @log  = readFileLog(\"log.txt\").chomp  ","  erb :showlog"]},{"start":{"row":229,"column":0},"end":{"row":230,"column":0},"action":"insert","lines":["#show content of a backup",""]},{"start":{"row":233,"column":43},"end":{"row":233,"column":47},"action":"remove","lines":[".txt"]},{"start":{"row":239,"column":5},"end":{"row":239,"column":9},"action":"remove","lines":["info"]},{"start":{"row":239,"column":5},"end":{"row":239,"column":8},"action":"insert","lines":["log"]},{"start":{"row":240,"column":9},"end":{"row":242,"column":0},"action":"remove","lines":["edit","end",""]},{"start":{"row":240,"column":9},"end":{"row":243,"column":26},"action":"insert","lines":["backup","end","","#reset to a certain backup"]},{"start":{"row":256,"column":14},"end":{"row":258,"column":0},"action":"remove","lines":["dmincontrols'","end",""]},{"start":{"row":256,"column":14},"end":{"row":259,"column":16},"action":"insert","lines":["rchive'","end","","#delete a backup"]},{"start":{"row":272,"column":1},"end":{"row":274,"column":40},"action":"insert","lines":["nd","","#group of functions that change backgrou"]}]]},"ace":{"folds":[{"start":{"row":19,"column":22},"end":{"row":28,"column":13},"placeholder":"..."},{"start":{"row":45,"column":28},"end":{"row":51,"column":12},"placeholder":"..."},{"start":{"row":55,"column":43},"end":{"row":62,"column":25},"placeholder":"..."},{"start":{"row":66,"column":21},"end":{"row":71,"column":41},"placeholder":"..."},{"start":{"row":75,"column":15},"end":{"row":87,"column":5},"placeholder":"..."},{"start":{"row":91,"column":14},"end":{"row":95,"column":20},"placeholder":"..."},{"start":{"row":99,"column":20},"end":{"row":103,"column":20},"placeholder":"..."},{"start":{"row":107,"column":10},"end":{"row":109,"column":11},"placeholder":"..."},{"start":{"row":112,"column":15},"end":{"row":113,"column":12},"placeholder":"..."},{"start":{"row":116,"column":18},"end":{"row":117,"column":15},"placeholder":"..."},{"start":{"row":120,"column":19},"end":{"row":130,"column":14},"placeholder":"..."},{"start":{"row":133,"column":16},"end":{"row":135,"column":14},"placeholder":"..."},{"start":{"row":138,"column":15},"end":{"row":139,"column":12},"placeholder":"..."},{"start":{"row":143,"column":16},"end":{"row":152,"column":5},"placeholder":"..."},{"start":{"row":156,"column":22},"end":{"row":157,"column":19},"placeholder":"..."},{"start":{"row":160,"column":14},"end":{"row":170,"column":11},"placeholder":"..."},{"start":{"row":174,"column":14},"end":{"row":184,"column":14},"placeholder":"..."},{"start":{"row":206,"column":16},"end":{"row":207,"column":13},"placeholder":"..."},{"start":{"row":210,"column":20},"end":{"row":215,"column":14},"placeholder":"..."},{"start":{"row":218,"column":27},"end":{"row":226,"column":5},"placeholder":"..."},{"start":{"row":244,"column":25},"end":{"row":249,"column":27},"placeholder":"..."},{"start":{"row":260,"column":24},"end":{"row":265,"column":27},"placeholder":"..."},{"start":{"row":268,"column":21},"end":{"row":271,"column":27},"placeholder":"..."},{"start":{"row":298,"column":13},"end":{"row":300,"column":15},"placeholder":"..."}],"scrolltop":1790.15625,"scrollleft":0,"selection":{"start":{"row":294,"column":27},"end":{"row":294,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":236,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1519183095815,"hash":"323c32c344add34020318e4aa66691262993cafa"}